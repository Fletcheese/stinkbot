# Werewolf Game Engine

This repo is meant to provide a moderator with tools to manage a game of Werewolf (A social deception game like mafia)
This directory will power the frontends ability to calculate night actions
Right now we leverage calling OpenAI to process the night actions for a game. This is an issue for multiple reasons:
1. Results can be inconsistent / non-deterministic
2. We call AI every game night for a situation where there is only 1 correct outcome

The reason we took this approach was that rules and roles might be added or changed in the future and we did not want to rely on complex development work to change logic

I would like to create a game engine package that is imported by the frontend that:
1. Determines the night actions
2. Specifies what input is needed from the moderator for a specific role (I.E. Bartender needing a player dropdown vs a sleepwalker needing 2)
3. Outputs a predictible outcome format for my frontend to display
4. Follows the correct order of operations
5. Has the ability to injest new roles and rules to regenerate game logic to account for these new changes
6. Has robust tests to ensure game logic is correct

Refer to the RULES.md file as a breakdown of the relevant game rules we need to follow
Refer to the ROLES.md file for all roles in the game. This data is also in the `roles` table and we should be relying in the IDs in that table for mapping.

We should create a `game_meta` table with `user_id`, `game_id`, `night`, and `meta_data` to track information that is relevant across multiple nights. For example if a hypnotist hypnotized a player the previous night or if a player has an auraseer ball.

Set up night action calculation, role logic management, and rule enforcement in a way that will make it be regenerated by AI later easier.
If you need to just set up the architecture of calculating night actions, have me hand code each outcome for the first iteration I can do that.

Only use roles that are explicitly stated exist, do not assume any other roles are possible.

Leverage any database call or query you think is fit to accomplish your task